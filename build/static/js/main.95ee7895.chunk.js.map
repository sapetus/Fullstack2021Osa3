{"version":3,"sources":["components/FilterForm.js","services/PersonService.js","components/AddPersonForm.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["FilterForm","props","id","value","filter","onChange","event","setNewFilter","target","baseURL","axios","get","then","response","data","newObject","post","delete","put","AddPersonForm","successStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","errorStyle","onSubmit","preventDefault","personObject","name","newName","number","newNumber","persons","some","person","toLowerCase","window","confirm","personId","p","personService","setPersons","concat","setMessageStyle","setMessage","setTimeout","catch","error","setNewName","setNewNumber","type","Person","Persons","personsToShow","includes","filterPersons","map","tag","onClick","removePerson","Notification","message","style","className","App","useState","messageStyle","useEffect","fetchedPersons","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.95ee7895.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst FilterForm = (props) => {\r\n    const handleFilterChange = (event) => {\r\n        props.setNewFilter(event.target.value);\r\n    };\r\n\r\n    return (\r\n        <div id='filter-form'>\r\n            Filter with:\r\n            <input value={props.filter} onChange={handleFilterChange} />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FilterForm;","import axios from 'axios'\r\n\r\nconst baseURL = '/api/persons';\r\n\r\nconst getAll = () => {\r\n    return axios.get(baseURL).then(response => {\r\n        return response.data;\r\n    });\r\n};\r\n\r\nconst create = (newObject) => {\r\n    return axios.post(baseURL, newObject).then(response => response.data);\r\n};\r\n\r\nconst remove = (id) => {\r\n    return axios.delete(`${baseURL}/${id}`).then(response => response.data);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n    return axios.put(`${baseURL}/${id}`, newObject).then(response => response.data);\r\n};\r\n\r\nexport default { getAll, create, remove, update };","import React from 'react'\r\nimport personService from '../services/PersonService.js'\r\n\r\nconst AddPersonForm = (props) => {\r\n    const successStyle = {\r\n        color: 'green',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    };\r\n    const errorStyle = {\r\n        color: 'red',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    };\r\n\r\n    const handleNameChange = (event) => {\r\n        props.setNewName(event.target.value);\r\n    };\r\n\r\n    const handleNumberChange = (event) => {\r\n        props.setNewNumber(event.target.value);\r\n    };\r\n\r\n    const addPerson = (event) => {\r\n        event.preventDefault();\r\n        const personObject = {\r\n            name: props.newName,\r\n            number: props.newNumber\r\n        };\r\n        if (props.persons.some(person => person.name.toLowerCase() === props.newName.toLowerCase())) { //updating existing person\r\n            if (window.confirm(`${props.newName} is already added to phonebook, replace the old number with a new one?`)) {\r\n                const personId = props.persons.filter(p => {\r\n                    return p.name.toLowerCase() === props.newName.toLowerCase();\r\n                })[0].id;\r\n                personService.update(personId, personObject).then(response => {\r\n                    props.setPersons(props.persons.filter(p => {\r\n                        return p.id !== personId;\r\n                    }).concat(response));\r\n                    props.setMessageStyle(successStyle);\r\n                    props.setMessage(`${props.newName} number changed`);\r\n                    setTimeout(() => {\r\n                        props.setMessage(null);\r\n                    }, 3500);\r\n                }).catch(error => {\r\n                    props.setMessageStyle(errorStyle);\r\n                    props.setMessage(`Information of ${props.newName} has already been removed from server`);\r\n                    setTimeout(() => {\r\n                        props.setMessage(null);\r\n                    }, 3500);\r\n                    props.setPersons(props.persons.filter(person => person.id !== personId));\r\n                });\r\n                props.setNewName('');\r\n                props.setNewNumber('');\r\n            } else {\r\n                props.setNewName('');\r\n                props.setNewNumber('');\r\n            }\r\n        } else { //new person\r\n            personService.create(personObject).then(response => {\r\n                props.setPersons(props.persons.concat(response))\r\n                props.setMessageStyle(successStyle);\r\n                props.setMessage(`Added ${props.newName}`);\r\n                setTimeout(() => {\r\n                    props.setMessage(null);\r\n                }, 3500);\r\n            }).catch(error => {\r\n                props.setMessageStyle(errorStyle);\r\n                props.setMessage(`Name and/or number missing`);\r\n                setTimeout(() => {\r\n                    props.setMessage(null);\r\n                }, 3500);\r\n            });\r\n            props.setNewName('');\r\n            props.setNewNumber('');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div id='add-person-form'>\r\n            <form onSubmit={addPerson}>\r\n                <div id='name-input'>\r\n                    Name: <input value={props.newName} onChange={handleNameChange} />\r\n                </div>\r\n                <div id='number-input'>\r\n                    Number: <input value={props.newNumber} onChange={handleNumberChange} />\r\n                </div>\r\n                <div id='submit-button'>\r\n                    <button type='submit'>add</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AddPersonForm;","import React from 'react'\r\nimport personService from '../services/PersonService.js'\r\n\r\nconst filterPersons = (persons, filter) => {\r\n    return (\r\n        persons.filter(\r\n            person => person.name.toLowerCase().includes(filter.toLowerCase())\r\n        )\r\n    )\r\n};\r\n\r\nconst Person = ({ person }) => {\r\n    return (\r\n        <p>\r\n            {person.name}: {person.number}\r\n        </p>\r\n    );\r\n};\r\n\r\nconst Persons = ({ persons, filter, setPersons, setMessage, setMessageStyle }) => {\r\n    const personsToShow = filterPersons(persons, filter);\r\n    const successStyle = {\r\n        color: 'green',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    };\r\n\r\n    const removePerson = (person) => {\r\n        if (window.confirm(`Are you sure you want to remove ${person.name}?`)) {\r\n            setMessageStyle(successStyle);\r\n            setMessage(`${person.name} removed`);\r\n            setTimeout(() => {\r\n                setMessage(null);\r\n            }, 3500);\r\n            personService.remove(person.id);\r\n            setPersons(persons.filter(p => {\r\n                return p.id !== person.id\r\n            }));\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div id='persons'>\r\n            {personsToShow.map(person =>\r\n                <div key={person.name} tag='person'>\r\n                    <Person person={person} />\r\n                    <button onClick={() => removePerson(person)}>Remove</button> <br />\r\n                    --------------------------------------------------------\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Persons;","import React from 'react'\r\n\r\nconst Notification = ({ message, style }) => {\r\n    if (message === null) {\r\n        return null;\r\n    };\r\n\r\n    return (\r\n        <div className='message' style={style}>\r\n            {message}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Notification;","import React, { useEffect, useState } from 'react'\nimport FilterForm from './components/FilterForm.js'\nimport AddPersonForm from './components/AddPersonForm.js'\nimport Persons from './components/Persons.js'\nimport personService from './services/PersonService.js'\nimport Notification from './components/Notification.js'\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [filter, setNewFilter] = useState('');\n  const [message, setMessage] = useState(null);\n  const [messageStyle, setMessageStyle] = useState([]);\n\n  useEffect(() => {\n    personService.getAll().then(fetchedPersons => {\n      setPersons(fetchedPersons);\n    });\n  }, []);\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={message} style={messageStyle}/>\n      <FilterForm filter={filter} setNewFilter={setNewFilter} />\n      <h2>Add a new person</h2>\n      <AddPersonForm\n        persons={persons} setPersons={setPersons}\n        newName={newName} setNewName={setNewName}\n        newNumber={newNumber} setNewNumber={setNewNumber}\n        message={message} setMessage={setMessage}\n        messageStyle={messageStyle} setMessageStyle={setMessageStyle}\n      />\n      <h2>Numbers</h2>\n      <Persons \n        persons={persons} filter={filter} \n        setPersons={setPersons} setMessage={setMessage} \n        setMessageStyle={setMessageStyle}\n      />\n    </div>\n  );\n};\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}